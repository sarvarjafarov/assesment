{% extends 'console/base.html' %}
{% load humanize %}
{% block console_content %}
<section class="console-page-header">
    <div>
        <p class="eyebrow">Assessment console</p>
        <h1>Marketing, Product & Behavioral</h1>
        <p class="lede">Manage all async assessments from one lightweight dashboard.</p>
    </div>
</section>

<section class="stats-grid">
    {% for card in summary_cards %}
    <article>
        <p>{{ card.label }}</p>
        <strong>{{ card.total }}</strong>
        <dl>
            <div>
                <dt>In progress</dt>
                <dd>{{ card.in_progress }}</dd>
            </div>
            <div>
                <dt>Completed</dt>
                <dd>{{ card.completed }}</dd>
            </div>
        </dl>
        <a class="pill subtle" href="{{ card.detail_url }}">View sessions</a>
    </article>
    {% endfor %}
</section>

<section class="panel">
    <header>
        <h2>Latest activity</h2>
    </header>
    {% if recent_sessions %}
    <div class="table">
        <div class="table-row table-head">
            <span>Candidate</span>
            <span>Assessment</span>
            <span>Status</span>
            <span>Updated</span>
            <span></span>
        </div>
        {% for entry in recent_sessions %}
        <div class="table-row">
            <span>{{ entry.candidate }}</span>
            <span>{{ entry.label }}</span>
            <span>{{ entry.status }}</span>
            <span>{{ entry.timestamp|naturaltime }}</span>
            <span><a class="pill subtle" href="{{ entry.url }}">Open</a></span>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="empty-state">No activity yet.</p>
    {% endif %}
</section>
{% endblock %}
